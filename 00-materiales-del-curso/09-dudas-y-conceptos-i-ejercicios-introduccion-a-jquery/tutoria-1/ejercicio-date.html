<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Curso de jQuery</title>
</head>
<body>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Reprehenderit tempore nostrum inventore debitis error temporibus eos repellendus quo, beatae aliquam, perspiciatis dolore. Dignissimos atque doloribus, adipisci voluptates in ipsa dolore.</p>
    <p>Deleniti incidunt, nostrum nemo assumenda placeat quo in facilis unde. Ratione illo expedita eius laborum. Dolorem, officia! Consequatur ducimus natus, fugit quasi iure consequuntur aperiam error ipsa distinctio voluptatem vero!</p>
    <p>Cumque eligendi, ullam, id itaque adipisci tempora sapiente provident, qui maiores quas deleniti aspernatur! Vitae necessitatibus totam tenetur commodi corporis suscipit maiores quae, incidunt autem, vero praesentium ipsum quam earum.</p>
    <p>Possimus sequi sit ex a, repudiandae, commodi, et amet enim error molestias perspiciatis nisi? Deleniti accusamus repudiandae beatae non eos alias eligendi? Porro soluta odit incidunt consectetur earum non debitis!</p>
    <p>Aut beatae, enim voluptatum illo, tenetur totam alias impedit accusantium obcaecati fugiat minima officia ea excepturi assumenda. Sapiente hic soluta numquam ea! Voluptate ratione beatae quas qui sed, odit reprehenderit.</p>
    <p>Necessitatibus harum sequi at quaerat ipsam accusantium laborum, praesentium, mollitia eum pariatur molestias, culpa atque facere. Quia aliquam voluptas odit, ea nulla facilis, molestiae, beatae repudiandae nobis ad iusto in.</p>
    <p>Totam placeat necessitatibus labore molestias error, natus nisi explicabo sed delectus, quia, maxime magni nulla obcaecati suscipit? Quae commodi repellat vel quidem. Adipisci molestias, animi error, soluta iure voluptas officia.</p>
    
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script>
        function timestampSegundos(){
            date = new Date();
            return Math.round(date.getTime()/1000);
        }
        $(function(){
            
            //guardar el instante actual en mis párrafos
            var instanteActual = timestampSegundos();
            console.log(instanteActual);
            $("p").data("time", instanteActual);

            $("p").on("click", function(){
                //calcular el número de segundos desde el último clic
                //mostrarlo en consola
                var ahora = timestampSegundos();
                console.log(ahora);
                //this ¿qué contiene aki?
                var parrafoPulsado = $(this);
                var instanteUltimoClic = parrafoPulsado.data("time");
                var numSegundos = ahora - instanteUltimoClic;
                console.log("El número de segundos desde el último clic es ", numSegundos, " y el párrafo es: ", parrafoPulsado);
                //actualizamos el dato del párrafo para colocar el instante de el último clic (ahora)
                parrafoPulsado.data("time", ahora);
            });

        });
    </script>
</body>
</html>